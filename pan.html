<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <head>
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.css"
      />

      <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

      <script src="https://cdn.jsdelivr.net/npm/panzoom@9.4.3/dist/panzoom.min.js"></script>

      <style>
        .diagram-container {
          width: 100%;
          height: 100%;
          overflow: hidden;
          border: 1px solid #ccc;
          position: relative;
          margin-bottom: 10px;
        }
        svg {
          cursor: grab;
        }
      </style>
    </head>
    <body>
      <div class="diagram-container" id="diagram-container">
        <pre class="mermaid">
graph TD
    subgraph "UI"
        API[Report Creator API]
        COMP[Components]
        API --> COMP
    end

    subgraph "Core"
        RC[Engine]
        TS[Templates]
        TM[Themes]
        CR[Renderer]
        
        RC --> TS
        RC --> TM
        RC --> CR
        COMP --> CR
    end

    subgraph "Integration"
        PL[Plotting]
        MD[Markdown]
        SH[Syntax]
        MJ[Mermaid]
        JW[Jupyter]
        
        CR --> PL
        CR --> MD
        CR --> SH
        CR --> MJ
        CR --> JW
    end

    subgraph "Output"
        HG[HTML]
        AB[Assets]
        DT[Template]
        
        CR --> HG
        HG --> AB
        TS --> DT
        DT --> HG
    end

    subgraph "Utils"
        UT[Utils]
        VM[Version]
        PI[Init]
        
        RC --> UT
        RC --> VM
        RC --> PI
    end

    classDef core fill:#2374ab,color:white
    classDef integration fill:#47a025,color:white
    classDef output fill:#a442f5,color:white
    classDef utility fill:#f58442,color:white

    class API,RC,TS,TM,CR core
    class PL,MD,SH,MJ,JW integration
    class HG,AB,DT output
    class UT,VM,PI utility

    click RC "https://github.com/darenr/report_creator/blob/main/report_creator/report_creator.py"
    click TS "https://github.com/darenr/report_creator/tree/main/report_creator/templates/"
    click TM "https://github.com/darenr/report_creator/blob/main/report_creator/theming.py"
    click UT "https://github.com/darenr/report_creator/blob/main/report_creator/utilities.py"
    click COMP "https://github.com/darenr/report_creator/blob/main/tests/test_components.py"
    click DT "https://github.com/darenr/report_creator/blob/main/report_creator/templates/default.html"
    click VM "https://github.com/darenr/report_creator/blob/main/report_creator/__version__.py"
    click PI "https://github.com/darenr/report_creator/blob/main/report_creator/__init__.py"
        </pre>
      </div>
        <script type="module">

        (function () {
            mermaid.initialize({ startOnLoad: false });
            mermaid.run({
                querySelector: '.mermaid',
                postRenderCallback: (id) => {
                    const container = document.getElementById("diagram-container");
                    const svgElement = container.querySelector("svg");

                    // Initialize Panzoom
                    const panzoomInstance = panzoom(svgElement, {
                        maxScale: 5,
                        minScale: 0.5,
                        step: 0.1,
                    });

                
                }
            });


            })();

            </script>
    </body>
</html>
